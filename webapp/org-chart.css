/* Organization Chart Styles */

/* Canvas base + dot pattern background */
#org-chart-canvas {
    background-color: #0f1115;
    transition: background-image 0.3s ease;
}

.canvas-dot-pattern {
    background-image: radial-gradient(#334155 1px, transparent 1px);
    background-size: 32px 32px;
}

/* Glass panel effect */
.glass-panel {
    background: rgba(30, 41, 59, 0.4);
    -webkit-backdrop-filter: blur(12px);
    backdrop-filter: blur(12px);
    border: 1px solid rgba(255, 255, 255, 0.08);
}

/* Org chart connector lines */
.org-line-v {
    width: 2px;
    background: linear-gradient(to bottom, #4f46e5, #818cf8);
    box-shadow: 0 0 8px rgba(99, 102, 241, 0.4);
    position: relative;
}

.org-line-h {
    height: 2px;
    background: linear-gradient(to right, #4f46e5, #818cf8, #4f46e5);
    box-shadow: 0 0 8px rgba(99, 102, 241, 0.4);
    position: relative;
    border-radius: 999px;
}

.connector-curve::before {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    width: 2px;
    height: 100%;
    background: linear-gradient(to bottom, #4f46e5, #818cf8);
    box-shadow: 0 0 8px rgba(99, 102, 241, 0.4);
    transform: translateX(-50%);
}

/* Search input styling */
.search-input-glass {
    background: rgba(15, 23, 42, 0.6);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: white;
}

.search-input-glass:focus {
    border-color: #6366f1;
    box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.2);
    outline: none;
}

/* Toggle switch */
.toggle-checkbox {
    position: relative;
    width: 20px;
    height: 20px;
    border-radius: 9999px;
    background: white;
    border: 4px solid transparent;
    appearance: none;
    cursor: pointer;
    transition: all 0.2s;
}

.toggle-checkbox:checked {
    right: 0;
    border-color: #6366f1;
}

.toggle-label {
    display: block;
    overflow: hidden;
    height: 20px;
    border-radius: 9999px;
    background-color: #475569;
    cursor: pointer;
    transition: background-color 0.2s;
}

.toggle-checkbox:checked+.toggle-label {
    background-color: #6366f1;
}

/* Custom scrollbar */
.custom-scrollbar::-webkit-scrollbar {
    width: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
    background: rgba(148, 163, 184, 0.3);
    border-radius: 3px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: rgba(148, 163, 184, 0.5);
}

/* Hide scrollbar but keep functionality */
.scrollbar-hide {
    -ms-overflow-style: none;
    /* IE and Edge */
}

@supports (scrollbar-width: none) {
    .scrollbar-hide {
        scrollbar-width: none;
        /* Firefox and modern Chrome/Safari */
    }
}

.scrollbar-hide::-webkit-scrollbar {
    display: none;
    /* Legacy Chrome and Safari support */
}

/* Neon shadows */
.shadow-neon-purple {
    box-shadow: 0 0 10px rgba(168, 85, 247, 0.3), 0 0 20px rgba(168, 85, 247, 0.1);
}

.shadow-neon-cyan {
    box-shadow: 0 0 10px rgba(6, 182, 212, 0.3), 0 0 20px rgba(6, 182, 212, 0.1);
}

.shadow-neon-emerald {
    box-shadow: 0 0 10px rgba(16, 185, 129, 0.3), 0 0 20px rgba(16, 185, 129, 0.1);
}

.shadow-neon-orange {
    box-shadow: 0 0 10px rgba(249, 115, 22, 0.3), 0 0 20px rgba(249, 115, 22, 0.1);
}

.shadow-neon-blue {
    box-shadow: 0 0 10px rgba(59, 130, 246, 0.3), 0 0 20px rgba(59, 130, 246, 0.1);
}

.shadow-glow-line {
    box-shadow: 0 0 8px rgba(99, 102, 241, 0.4);
}

/* Neon color utilities */
.neon-cyan {
    color: #06b6d4;
}

.neon-purple {
    color: #a855f7;
}

.neon-orange {
    color: #f97316;
}

.neon-emerald {
    color: #10b981;
}

.neon-blue {
    color: #3b82f6;
}

.border-neon-cyan {
    border-color: #06b6d4;
}

.border-neon-purple {
    border-color: #a855f7;
}

.border-neon-orange {
    border-color: #f97316;
}

.border-neon-emerald {
    border-color: #10b981;
}

.border-neon-blue {
    border-color: #3b82f6;
}

/* Org chart card animations */
.org-card {
    transition: transform 0.3s ease, box-shadow 0.3s ease, opacity 0.35s ease;
    position: relative;
}

.org-card:hover {
    transform: scale(1.02);
}

/* Search highlight */
.org-card.oc-highlight {
    box-shadow: 0 0 0 2px #818cf8, 0 0 24px rgba(99, 102, 241, 0.45) !important;
    transform: scale(1.03);
    z-index: 20;
}

/* Card selection */
.org-card.oc-selected {
    box-shadow: 0 0 0 2px #6366f1, 0 0 16px rgba(99, 102, 241, 0.35) !important;
}

/* Drag-and-drop: drop target glow */
.org-card.oc-drop-target {
    box-shadow: 0 0 0 2px #137fec, 0 0 20px rgba(19, 127, 236, 0.35) !important;
    background: rgba(19, 127, 236, 0.08) !important;
    transform: scale(1.02);
}

/* Drag-and-drop: card being dragged (original position ghost) */
.org-card.oc-dragging {
    opacity: 0.25;
    transform: scale(0.95);
    pointer-events: none;
    -webkit-user-select: none;
    user-select: none;
}

/* Drag-and-drop: dim unrelated cards */
.org-card.oc-drag-dimmed {
    opacity: 0.45;
    filter: grayscale(0.5);
    transition: opacity 0.25s ease, filter 0.25s ease;
    -webkit-user-select: none;
    user-select: none;
}

/* Drag-and-drop: ghost drop zone that appears under the hovered target */
.oc-drop-ghost {
    width: 224px;
    height: 66px;
    border: 2px dashed rgba(19, 127, 236, 0.45);
    border-radius: 0.75rem;
    background: rgba(19, 127, 236, 0.06);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    margin: 12px auto 0;
    animation: oc-ghost-breathe 2s ease-in-out infinite;
}

.oc-drop-ghost p {
    color: rgba(19, 127, 236, 0.7);
    font-size: 11px;
    font-weight: 500;
}

.oc-drop-ghost .oc-ghost-plus {
    position: absolute;
    top: -8px;
    right: -8px;
    width: 20px;
    height: 20px;
    background: #137fec;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 8px rgba(19, 127, 236, 0.5);
}

.oc-drop-ghost .oc-ghost-plus span {
    font-size: 14px;
    color: #fff;
}

@keyframes oc-ghost-breathe {

    0%,
    100% {
        border-color: rgba(19, 127, 236, 0.3);
    }

    50% {
        border-color: rgba(19, 127, 236, 0.6);
    }
}

/* Drag-and-drop: the floating card clone following the cursor */
.oc-drag-clone {
    position: fixed;
    z-index: 9999;
    pointer-events: none;
    transform: rotate(-2deg);
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.5), 0 8px 10px -6px rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(19, 127, 236, 0.4);
    border-radius: 0.75rem;
    background: rgba(30, 41, 59, 0.95);
    -webkit-backdrop-filter: blur(12px);
    backdrop-filter: blur(12px);
    transition: none;
    opacity: 0.95;
    -webkit-user-select: none;
    user-select: none;
}

/* Drag-and-drop: animated SVG connector dash */
@keyframes oc-dash {
    to {
        stroke-dashoffset: -20;
    }
}

.oc-dash-animate {
    animation: oc-dash 1s linear infinite;
}

/* Swap flash */
@keyframes oc-swap-flash {
    0% {
        box-shadow: 0 0 0 0 rgba(19, 127, 236, 0);
    }

    50% {
        box-shadow: 0 0 0 12px rgba(19, 127, 236, 0.4);
    }

    100% {
        box-shadow: 0 0 0 0 rgba(19, 127, 236, 0);
    }
}

/* Structural Classes for Refactoring Inline Styles */
.oc-sidebar-filters {
    position: absolute;
    left: 24px;
    top: 80px;
    bottom: 24px;
    width: 288px;
    z-index: 40;
    border-radius: 16px;
    display: flex;
    flex-direction: column;
    padding: 20px;
}

.oc-canvas-header {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 68px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 24px;
    z-index: 30;
}

.oc-minimap-viewport-indicator {
    box-shadow: 0 0 8px rgba(99, 102, 241, 0.5);
    transition: all 0.15s ease;
    width: 16px;
    height: 10px;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}


.company-logo-bg {
    background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuDv4O8p3cK3ILdVBiiBGDN_QGx5EDK1FrIm-ufskygGpel43RF79rOFR3ROWFpFJkIkmJ1iTxhowCS8NoYEuY_C3Pi17cxJFZ9ZVntSHcdGVeqxxSbzg3pARLWn7LDdoLCXQfIdnfZ8GYAOQZemMy-83NxBFCP9r6VPywnZ2Y3gUwq8XFdFBFaen8Z9vYrmIF1zf4dTBVT_8_i0Mz8CTFnJGxqi36ZqREoKAllb_xDJh8lgLVMSY9FVFqMYlYNA4QgHkGWfaPIgnYvn");
}

.sarah-jenkins-bg {
    background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuAtq1U5vpxy-_DwzGE2BzIm528QhC-xd4hZC_YD3byHSqilGiGKzGk3yCdzCjY8hXCgfiB7XrC7kamgOl7Zez0KoQGeavXAsuH1zGhl50lGnBnHWZIS8pe57jUtquf6GgKM5XoVBQEfiAcmrFn5UduZ_7FfjixXSgirAmNsP3qT7eN4zoNifHEAhiCYnmaM37LirbG2pt6cUvKQht7tgNwQWjWmNfjQhvMOghfS42ahyHfIMenSFvZXRrHv2wFgk2Epi2MWJt5rKPmi");
}

.john-doe-bg {
    background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuCHoB1LeWp9T02pBC0n5paNQFuBlZ8tIy7xdIABO9rrTJ3cQo0oAoTAZCVSEUKgG6S144qJ6Vn6WQg8p5BUMKX43cHQlrk8SI4o9ZCLtrXXH8kgKUpA6QFLxeNqRuZVQfZY1zxHUCNwGrUOUUZDAUjMiN53l0H7YMvojnN3kp4h34irtLBGMJfOaOmVf3fTDonqfumGQwqNfa2x5hRpXxkrSyPBXg9FnSjikc-nhGy8Ni2KH_jtsNoqSN8sFeD7QXxBmd4TI8JnD1rI");
}

.james-wilson-bg {
    background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuCH0PswGnzylr3WjMsYe5faxAo31vyAsh0Gi5--LlarGKQZvIIpt6qIlP0nDydMY34XOR1lLV8w_XBbWmk4ch9v5lxTHUzvNPKvUsGyFLMrwQlTPfGC0UzuHkP8I97DYcY0esRnC6HIsc8mB2G5Nn8Hz2yfF_aHvjgDHmhKplgML9zq3oyxa47A77r2KgWs92LvNzJ1DIMEVMcJQFV1vNyw-LALL_HAUDbVX7rx8q3PpTKW95t7ruOfEE2_SMeaoEPgNIzcCLdMx3KI");
}

.michael-chen-bg {
    background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuDaX8t91nk56nc0t9TRPtITd1mOvg9YRBdtjjDyO3NXgZf9UvPMeNRFDKfMfxYdHcQCuL6GdKMilHuM1shJrlgA_fVGuC32NtPDEixSpzuv4TOZXKmLp6kd1BkxZ4K-u4YOQKbXP6pAsUCI1Av8YLYpzkGWfiKGAzqi6tcFYSVUv104gDQMik1HA4UvNySrAvTXVbICnOBnzupREzjp-ic8LMi_AInTdtjQlCC20H6kI4dJCKKA6D3Ha6Wvu55UodfCvSlchZigdAgn");
}

.elena-rodriguez-bg {
    background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuAuCbKUqi-vVQmzTaZY4aknHFsKs01AnEBF92Dm2-olR5bqGMPJasZgxhbCFu55pAk_3U83-SEOsNmhw8JOEo_tM0seoP8Yn2iAypiL4O3KAvExecedbP5E2FP26OX9D4SAfL6bmS7l2dyWw1Moccw1-RUs3O8WmA7Qfd1yTufNAiBj2dFTDPihaM0RfAcofYnWhgNiBJoOeKcRkpuK985tJyYRBAbnI0CbQfJRhm2sv7n-_W0YIGLKf9CLbeWNAU-3E339ryMX_9Ud");
}

.marcus-thorne-bg {
    background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuBKl4mEqHa4YVu_HOoNY3f5eASwmqnt-PIB_MTMzUTFmHVNJxsu8nsHgzYK46IvsrrGYAbsQzayUKP7wb_bMOiRIg3pHtbOG-hbXeAlslFlvpAGQ8iwRbXPmAejP2BIxN-tj0I8Spc6bbd_1GLFZ5S6iM2uKg_cSdr3vIHQZNjKeIylmeHS--kUH72vosGonmOjJpzXQUd10Ypt6R0j5HvXHgq5wyBA8DX1nbG6x1ofcomY3Vc3u8vrnm-8t9LYskej7WKhwkx8KLRT");
}

.alicia-vance-bg {
    background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuDRmQydPJNSkjzx5-NPoeyu1eSKEJFk8P14e-RBNMUZIUXP4qNuMzLZ4_29CF0iaZ06PvpDgcjpZwPhXvNQ0PoPvWXUBBHli2fIEwg5fA_IYcsOcwGWsT1A4EmxwJUcNzcy5P6W6P5LWRZNBnkWD1gXGOc7ckjA2ZJJ21UZY3H7nXNhkJ6if0y9bzf00WIIjOqALPcu6xC1jgNBE3SN3vxBMX6p2P_f6kqNQY5tnABatrGEn6H_RkBY_DDZiqo-warwPqUsYfGqWKKc");
}



.org-card.oc-swap-flash {
    animation: oc-swap-flash 0.6s ease-out;
}

/* Filtered-out cards */
.org-card.oc-filtered-out {
    opacity: 0.15;
    pointer-events: none;
}

/* Edit mode indicators */
.edit-mode-active .org-card {
    cursor: move;
}

.edit-mode-active .org-card:hover {
    box-shadow: 0 0 20px rgba(99, 102, 241, 0.5);
}

/* Edit controls (remove card button) */
.oc-edit-controls {
    position: absolute;
    top: 8px;
    right: 8px;
    display: flex;
    gap: 4px;
    opacity: 0;
    transition: opacity 0.2s ease;
    z-index: 10;
}

.org-card:hover>.oc-edit-controls {
    opacity: 1;
}

/* Add button pulse animation */
@keyframes pulse-glow {

    0%,
    100% {
        box-shadow: 0 0 10px rgba(99, 102, 241, 0.3);
    }

    50% {
        box-shadow: 0 0 20px rgba(99, 102, 241, 0.6);
    }
}

.add-card-btn {
    animation: pulse-glow 2s ease-in-out infinite;
}

/* Minimap styles */
.minimap {
    pointer-events: auto;
}

.minimap:hover {
    opacity: 1 !important;
}

/* Page section positioning */
#page-org-chart {
    position: absolute;
    top: 0;
    left: 256px;
    /* w-64 navigation sidebar width */
    right: 0;
    bottom: 0;
    overflow: hidden;
}


.page-section-layout {
    flex: 1;
    position: relative;
    overflow-y: auto;
}

/* ============================================================
   Share Modal
   ============================================================ */

#oc-share-modal {
    opacity: 0;
    transition: opacity 0.2s ease;
}

#oc-share-modal.oc-modal-visible {
    opacity: 1;
}

#oc-share-modal .relative.glass-panel {
    transform: scale(0.95) translateY(8px);
    transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
}

#oc-share-modal.oc-modal-visible .relative.glass-panel {
    transform: scale(1) translateY(0);
}

/* ============================================================
   PDF Export — spinner & disabled state
   ============================================================ */

.oc-pdf-spinner {
    display: inline-block;
    width: 14px;
    height: 14px;
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-top-color: #fff;
    border-radius: 50%;
    animation: oc-spin 0.7s linear infinite;
    flex-shrink: 0;
}

@keyframes oc-spin {
    to {
        transform: rotate(360deg);
    }
}

[data-action="export-pdf"]:disabled {
    opacity: 0.7;
    cursor: not-allowed;
    pointer-events: none;
}

/* ── Light mode overrides ─────────────────────────────────────────────────── */

html.light #org-chart-canvas {
    background-color: #f0f2f5;
}

html.light .canvas-dot-pattern {
    background-image: radial-gradient(#cbd5e1 1px, transparent 1px);
}

html.light .glass-panel {
    background: rgba(255, 255, 255, 0.75);
    border: 1px solid rgba(0, 0, 0, 0.08);
}

/* Header + sidebar text on light */
html.light .oc-canvas-header,
html.light .oc-sidebar-filters {
    color: #1e293b;
}

html.light .oc-canvas-header h2,
html.light .oc-canvas-header span,
html.light .oc-sidebar-filters h3,
html.light .oc-sidebar-filters label,
html.light .oc-sidebar-filters span {
    color: #1e293b !important;
}

html.light .oc-sidebar-filters .text-slate-400 {
    color: #64748b !important;
}

/* Search bar */
html.light .search-input-glass {
    background: rgba(255, 255, 255, 0.9);
    border: 1px solid rgba(0, 0, 0, 0.12);
    color: #1e293b;
}

html.light .search-input-glass::placeholder {
    color: #94a3b8;
}

/* Org card on light */
html.light .org-card {
    background: rgba(255, 255, 255, 0.9);
    border-color: rgba(0, 0, 0, 0.1);
}

html.light .org-card .employee-name {
    color: #0f172a !important;
}

html.light .org-card .employee-title,
html.light .org-card .text-slate-400,
html.light .org-card .text-slate-300 {
    color: #475569 !important;
}

/* Filter checkboxes */
html.light .oc-filter-checkbox-label {
    color: #334155;
}

/* Minimap */
html.light .oc-minimap {
    background: rgba(241, 245, 249, 0.9);
    border-color: rgba(0, 0, 0, 0.1);
}

/* Override Tailwind's inline text-white classes inside OC page on light mode */
html.light #page-org-chart .text-white,
html.light #page-org-chart [class*="text-white"] {
    color: #1e293b !important;
}

html.light #page-org-chart .text-slate-400,
html.light #page-org-chart [class*="text-slate-4"] {
    color: #64748b !important;
}

html.light #page-org-chart .text-slate-300,
html.light #page-org-chart [class*="text-slate-3"] {
    color: #475569 !important;
}

/* Integrations: override inline Tailwind text-white classes */
html.light #page-integrations .text-white,
html.light #page-integrations [class*="text-white"] {
    color: #0f172a !important;
}

html.light #page-integrations .text-slate-400,
html.light #page-integrations .text-slate-300,
html.light #page-integrations [class*="text-slate-"] {
    color: #64748b !important;
}

/* ── Light: Share button in org chart header ─────────────────────────────── */
html.light #page-org-chart [data-action="share"] {
    background: #f1f5f9 !important;
    border-color: #d1d5db !important;
    color: #1e293b !important;
}

html.light #page-org-chart [data-action="share"]:hover {
    background: #e2e8f0 !important;
    border-color: #94a3b8 !important;
}

/* ── Light: filter count badges (bg-slate-800 injected by JS) ────────────── */
html.light #page-org-chart .oc-sidebar-filters span.ml-auto {
    background: #e2e8f0 !important;
    color: #475569 !important;
}

/* ── Light: filter checkboxes (bg-slate-800 border-slate-600 injected by JS) */
html.light #page-org-chart input.oc-dept-cb,
html.light #page-org-chart input.oc-loc-cb {
    background: #ffffff !important;
    border-color: #d1d5db !important;
}

/* ── Light: filter item text (text-slate-300 injected by JS) ─────────────── */
html.light #page-org-chart .oc-sidebar-filters label span.text-slate-300,
html.light #page-org-chart .oc-sidebar-filters label span.text-sm {
    color: #374151 !important;
}

html.light #page-org-chart .oc-sidebar-filters label:hover span.text-sm {
    color: #1e293b !important;
}

/* ── Light: Edit Mode toggle border separator ────────────────────────────── */
html.light #page-org-chart .border-slate-700 {
    border-color: #d1d5db !important;
}

/* ── Light: Edit mode toggle track ──────────────────────────────────────── */
html.light .toggle-label {
    background: #d1d5db !important;
}
